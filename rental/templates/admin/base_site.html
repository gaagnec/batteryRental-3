{% extends "admin/base.html" %}
{% load static %}

{% block title %}–ê–¥–º–∏–Ω–∫–∞ | {{ block.super }}{% endblock %}

{% block extrastyle %}
  {{ block.super }}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    /* =================================
       –ö–õ–ê–°–°–ò–ß–ï–°–ö–û–ï –ú–ï–ù–Æ: SIDEBAR + TOP NAV
       ================================= */
    
    /* –û—Å–Ω–æ–≤–Ω–æ–π layout */
    body {
      background-color: #0b0d1a !important;
      margin: 0;
      padding: 0;
    }
    
    /* Sidebar —Å–ª–µ–≤–∞ */
    .admin-sidebar {
      position: fixed;
      left: 0;
      top: 0;
      width: 250px;
      height: 100vh;
      background-color: #1c1e2d;
      border-right: 1px solid #2a2e41;
      overflow-y: auto;
      z-index: 1000;
      padding-top: 60px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è top nav */
    }
    
    .admin-sidebar-menu {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .admin-sidebar-menu li {
      margin: 0;
      padding: 0;
    }
    
    .admin-sidebar-menu a {
      display: block;
      padding: 12px 20px;
      color: #9fa6bc;
      text-decoration: none;
      border-left: 3px solid transparent;
      transition: all 0.2s ease;
    }
    
    .admin-sidebar-menu a:hover {
      background-color: #2a2e41;
      color: #e3e6ed;
      border-left-color: #8ad0ff;
    }
    
    .admin-sidebar-menu a.active {
      background-color: #2a2e41;
      color: #8ad0ff;
      border-left-color: #8ad0ff;
      font-weight: 600;
    }
    
    .admin-sidebar-section {
      padding: 15px 20px 10px;
      color: #6b7280;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    /* Top navigation */
    .admin-top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background-color: #0e1018;
      border-bottom: 1px solid #2a2e41;
      z-index: 999;
      display: flex;
      align-items: center;
      padding: 0 20px;
      gap: 20px;
    }
    
    .admin-top-nav-left {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    .admin-top-nav-logo {
      font-size: 1.25rem;
      font-weight: 600;
      color: #e3e6ed;
      text-decoration: none;
    }
    
    .admin-top-nav-menu {
      display: flex;
      gap: 10px;
      list-style: none;
      margin: 0;
      padding: 0;
    }
    
    .admin-top-nav-menu a {
      padding: 8px 16px;
      color: #9fa6bc;
      text-decoration: none;
      border-radius: 4px;
      transition: all 0.2s ease;
    }
    
    .admin-top-nav-menu a:hover {
      background-color: #2a2e41;
      color: #e3e6ed;
    }
    
    .admin-top-nav-menu a.active {
      background-color: #2a2e41;
      color: #8ad0ff;
    }
    
    .admin-top-nav-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –æ—Ç—Å—Ç—É–ø–æ–º */
    #container {
      margin-left: 250px;
      padding-top: 60px;
    }
    
    #content {
      background-color: #0b0d1a !important;
      padding: 20px;
      min-height: calc(100vh - 60px);
    }
    
    #content-main {
      background-color: #0b0d1a !important;
    }
    
    /* –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π sidebar Django */
    #nav-sidebar {
      display: none !important;
    }
    
    /* –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é Django */
    #header {
      display: none !important;
    }
    
    /* –ö–∞—Ä—Ç–æ—á–∫–∏ –∏ –º–æ–¥—É–ª–∏ */
    .module, .card, fieldset {
      background-color: #1c1e2d !important;
      border-color: #2a2e41 !important;
      color: #e3e6ed !important;
    }
    
    /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
    .module h2, .module caption, .inline-group h2, fieldset h2, 
    .card-header, h1, h2, h3, h4, h5, h6 {
      background-color: #0e1018 !important;
      color: #e3e6ed !important;
      border-bottom: 1px solid #2a2e41 !important;
    }
    
    /* –¢–∞–±–ª–∏—Ü—ã */
    table, thead, tbody, tr, td, th {
      background-color: #1c1e2d !important;
      border-color: #2a2e41 !important;
      color: #e3e6ed !important;
    }
    
    thead th {
      background-color: #0e1018 !important;
      color: #8ad0ff !important;
      font-weight: 600 !important;
      border-bottom: 2px solid #2a2e41 !important;
    }
    
    tbody tr:hover {
      background-color: rgba(138, 208, 255, 0.05) !important;
    }
    
    /* –§–æ—Ä–º—ã */
    .form-row label, .form-row .help, .help, label {
      color: #9fa6bc !important;
    }
    
    input, select, textarea, .vTextField, .vDateField, .vTimeField, 
    .vURLField, .vIntegerField, .vPositiveSmallIntegerField, 
    .vForeignKeyRawIdAdminField {
      background-color: #0e1018 !important;
      border-color: #2a2e41 !important;
      color: #e3e6ed !important;
    }
    
    input:focus, select:focus, textarea:focus {
      background-color: #0e1018 !important;
      border-color: #8ad0ff !important;
      color: #e3e6ed !important;
    }
    
    /* –ö–Ω–æ–ø–∫–∏ */
    .button, input[type="submit"], input[type="button"], .submit-row input, 
    button, .btn {
      background-color: #2a2e41 !important;
      border-color: #3a3e51 !important;
      color: #e3e6ed !important;
    }
    
    .button:hover, input[type="submit"]:hover, input[type="button"]:hover, 
    button:hover, .btn:hover {
      background-color: #3a3e51 !important;
      border-color: #4a4e61 !important;
    }
    
    .button.default, input[type="submit"].default, .submit-row input.default {
      background-color: #8ad0ff !important;
      color: #0b0d1a !important;
      border-color: #8ad0ff !important;
    }
    
    .button.default:hover {
      background-color: #a0dcff !important;
      color: #0b0d1a !important;
    }
    
    /* –°—Å—ã–ª–∫–∏ */
    a {
      color: #8ad0ff !important;
    }
    
    a:hover {
      color: #a0dcff !important;
    }
    
    /* Changelist */
    #changelist {
      background-color: #0b0d1a !important;
    }
    
    #changelist-form {
      background-color: #0b0d1a !important;
    }
    
    .results {
      background-color: #1c1e2d !important;
    }
    
    /* –ü–∞–≥–∏–Ω–∞—Ü–∏—è */
    .paginator {
      color: #9fa6bc !important;
      background-color: #1c1e2d !important;
      border-color: #2a2e41 !important;
    }
    
    .paginator a {
      color: #8ad0ff !important;
    }
    
    /* –§–∏–ª—å—Ç—Ä—ã */
    #changelist-filter {
      background-color: #1c1e2d !important;
      border-left: 1px solid #2a2e41 !important;
    }
    
    #changelist-filter h2, #changelist-filter h3 {
      background-color: #0e1018 !important;
      color: #e3e6ed !important;
    }
    
    #changelist-filter li.selected a {
      color: #8ad0ff !important;
      font-weight: 600 !important;
    }
    
    /* Breadcrumbs */
    .breadcrumbs {
      background-color: #1c1e2d !important;
      color: #9fa6bc !important;
      border-bottom: 1px solid #2a2e41 !important;
    }
    
    .breadcrumbs a {
      color: #8ad0ff !important;
    }
    
    /* –°–æ–æ–±—â–µ–Ω–∏—è */
    .messagelist {
      margin: 0 !important;
      padding: 0 !important;
    }
    
    .messagelist li {
      background-color: #1c1e2d !important;
      border-color: #2a2e41 !important;
      color: #e3e6ed !important;
    }
    
    .messagelist .success {
      background-color: rgba(168, 226, 168, 0.2) !important;
      border-left: 4px solid #a8e2a8 !important;
    }
    
    .messagelist .error {
      background-color: rgba(255, 107, 107, 0.2) !important;
      border-left: 4px solid #ff6b6b !important;
    }
    
    .messagelist .warning {
      background-color: rgba(255, 210, 138, 0.2) !important;
      border-left: 4px solid #ffd28a !important;
    }
    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
      .admin-sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }
      
      .admin-sidebar.open {
        transform: translateX(0);
      }
      
      #container {
        margin-left: 0;
      }
    }
  </style>
{% endblock %}

{% block bodyclass %}{{ block.super }} admin-classic-menu{% endblock %}

{% block header %}
  <!-- Top Navigation -->
  <div class="admin-top-nav">
    <div class="admin-top-nav-left">
      <a href="{% url 'admin:index' %}" class="admin-top-nav-logo">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
      <ul class="admin-top-nav-menu">
        <li><a href="{% url 'admin:index' %}" class="{% if request.resolver_match.url_name == 'index' %}active{% endif %}">–ì–ª–∞–≤–Ω–∞—è</a></li>
        <li><a href="{% url 'admin:rental_rental_changelist' %}" class="{% if 'rental_rental' in request.resolver_match.url_name %}active{% endif %}">–î–æ–≥–æ–≤–æ—Ä–∞</a></li>
        <li><a href="{% url 'admin:rental_payment_changelist' %}" class="{% if 'rental_payment' in request.resolver_match.url_name %}active{% endif %}">–ü–ª–∞—Ç–µ–∂–∏</a></li>
        <li><a href="{% url 'admin-dashboard' %}" class="{% if request.resolver_match.url_name == 'admin-dashboard' %}active{% endif %}">Dashboard</a></li>
      </ul>
    </div>
    <div class="admin-top-nav-right">
      {% if user.is_authenticated %}
        <span style="color: #9fa6bc;">{{ user.get_full_name|default:user.username }}</span>
        <a href="{% url 'admin:logout' %}" style="color: #9fa6bc; text-decoration: none;">–í—ã–π—Ç–∏</a>
      {% endif %}
    </div>
  </div>
  
  <!-- Sidebar -->
  <div class="admin-sidebar">
    <ul class="admin-sidebar-menu">
      <li class="admin-sidebar-section">–ì–ª–∞–≤–Ω–∞—è</li>
      <li><a href="{% url 'admin:index' %}" class="{% if request.resolver_match.url_name == 'index' %}active{% endif %}">üè† –ì–ª–∞–≤–Ω–∞—è</a></li>
      <li><a href="{% url 'admin-dashboard' %}" class="{% if request.resolver_match.url_name == 'admin-dashboard' %}active{% endif %}">üìä Dashboard</a></li>
      
      <li class="admin-sidebar-section">–ö–ª–∏–µ–Ω—Ç—ã –∏ –¥–æ–≥–æ–≤–æ—Ä—ã</li>
      <li><a href="{% url 'admin:rental_client_changelist' %}" class="{% if 'rental_client' in request.resolver_match.url_name %}active{% endif %}">üë§ –ö–ª–∏–µ–Ω—Ç—ã</a></li>
      <li><a href="{% url 'admin:rental_rental_changelist' %}" class="{% if 'rental_rental' in request.resolver_match.url_name %}active{% endif %}">üìã –î–æ–≥–æ–≤–æ—Ä–∞</a></li>
      
      <li class="admin-sidebar-section">–ë–∞—Ç–∞—Ä–µ–∏</li>
      <li><a href="{% url 'admin:rental_battery_changelist' %}" class="{% if 'rental_battery' in request.resolver_match.url_name %}active{% endif %}">üîã –ë–∞—Ç–∞—Ä–µ–∏</a></li>
      
      <li class="admin-sidebar-section">–§–∏–Ω–∞–Ω—Å—ã</li>
      <li><a href="{% url 'admin:rental_payment_changelist' %}" class="{% if 'rental_payment' in request.resolver_match.url_name %}active{% endif %}">üí≥ –ü–ª–∞—Ç–µ–∂–∏</a></li>
      <li><a href="{% url 'admin:rental_expense_changelist' %}" class="{% if 'rental_expense' in request.resolver_match.url_name %}active{% endif %}">üìâ –†–∞—Å—Ö–æ–¥—ã</a></li>
    </ul>
  </div>
{% endblock %}

{% block footer %}
  {{ block.super }}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
{% endblock %}
