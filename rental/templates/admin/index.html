{% extends "admin/index.html" %}
{% load i18n static %}

{% block content %}
{{ block.super }}

<script>
document.addEventListener('DOMContentLoaded', function() {
    // –ù–∞—Ö–æ–¥–∏–º –±–ª–æ–∫ app-rental module –∏ –µ–≥–æ —Ç–∞–±–ª–∏—Ü—É
    const rentalTable = document.querySelector('.app-rental.module table');
    
    if (rentalTable) {
        // –ù–∞—Ö–æ–¥–∏–º tbody –∏–ª–∏ —Å–æ–∑–¥–∞—ë–º –µ–≥–æ
        let tbody = rentalTable.querySelector('tbody');
        if (!tbody) {
            tbody = rentalTable.querySelector('caption').nextElementSibling;
        }
        
        // –°–æ–∑–¥–∞—ë–º —Å—Ç—Ä–æ–∫—É Dashboard
        const dashboardRow = document.createElement('tr');
        dashboardRow.className = 'model-dashboard';
        dashboardRow.innerHTML = `
            <th scope="row">
                <a href="/admin/dashboard/">üìä Dashboard</a>
            </th>
            <td><a href="/admin/dashboard/" class="addlink">–û—Ç–∫—Ä—ã—Ç—å</a></td>
            <td></td>
        `;
        
        // –í—Å—Ç–∞–≤–ª—è–µ–º Dashboard –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–æ–π –≤ —Ç–∞–±–ª–∏—Ü—É
        if (tbody && tbody.tagName === 'TR') {
            // –ï—Å–ª–∏ tbody - —ç—Ç–æ tr, –≤—Å—Ç–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–¥ –Ω–∏–º
            tbody.parentNode.insertBefore(dashboardRow, tbody);
        } else if (tbody) {
            // –ï—Å–ª–∏ tbody —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—Å—Ç–∞–≤–ª—è–µ–º –≤–Ω—É—Ç—Ä—å
            tbody.insertBefore(dashboardRow, tbody.firstChild);
        } else {
            // –ò–Ω–∞—á–µ –≤—Å—Ç–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ caption
            const caption = rentalTable.querySelector('caption');
            caption.insertAdjacentElement('afterend', dashboardRow);
        }
    }
});
</script>

<style>
    /* –°—Ç–∏–ª—å –¥–ª—è —Å—Å—ã–ª–∫–∏ Dashboard */
    .app-rental .model-dashboard a {
        color: #667eea !important;
        font-weight: 600;
    }
    
    .app-rental .model-dashboard a:hover {
        color: #764ba2 !important;
    }
</style>
{% endblock %}
